<!DOCTYPE html>
<html>

<head>
<link href='/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css' rel='stylesheet' type='text/css'>
</head>

<div class="content-wrapper">
	<div class="container-fluid">
		<ol class="breadcrumb">
			<li class="breadcrumb-item active"><a href="/staff">{{texts "menu.staff.home"}}</a></li>
		</ol>
		{{#if header.renderStaffTable}}
		<div class="row">
			<div class="col">
				<a href="/staff/create" class="btn btn-dark btn-mb btn-block" role="button" aria-pressed="true"><i class="fa fa-plus-circle"></i> {{texts "button.label.add"}}</a>
			</div>
		</div>
		<div class="row margin-top-10">
			<div class="col">
				<div class="card">
					<div class="table-responsive margin-top-10">
						<table id="staffTable" class="table table-striped table-bordered">
							<thead>
								<tr>
									<th class="text-center">{{texts "entity.staff.name"}}</th>
									<th class="text-center">{{texts "entity.staff.surname"}}</th>
									<th class="text-center">{{texts "entity.staff.email"}}</th>
									<th class="text-center">{{texts "entity.staff.telephoneNum"}}</th>
									<th class="text-center">{{texts "entity.staff.province"}}</th>
									<th class="text-center">{{texts "entity.staff.district"}}</th>
									<th class="text-center">{{texts "entity.staff.address"}}</th>
									<th class="text-center">{{texts "panel.label.action"}}</th>
								</tr>
							</thead>
							{{#if body.staffs}} {{#each body.staffs}}
							<tbody>
								<tr>
									<td>{{name}}</td>
									<td>{{surname}}</td>
									<td>{{email}}</td>
									<td>{{telephoneNum}}</td>
									<td>{{province}}</td>
									<td>{{district}}</td>
									<td>{{address}}</td>
									<td width="100"><a id="editStaffButton" class="btn btn-primary btn-sm float-left" href="/staff/edit/{{_id}}" role="button"><i class="fa fa-pencil"></i></a> <a
										id="editStaffFacedImageButton" class="btn btn-primary btn-sm float-right" href="/staff/edit/{{_id}}/facedImages" role="button"><i class="fa fa-image"></i></a></td>
								</tr>
							</tbody>
							{{/each}} {{else}}
							<tfoot>
								<tr>
									<td>{{texts "message.warn.common.recordNotFound"}}</td>
								</tr>
							</tfoot>
							{{/if}}
						</table>
					</div>
				</div>
			</div>
		</div>
		{{/if}} {{#if header.renderStaffCrudPanel}}
		<div class="row">
			<div class="col">
				<div class="card">
					<div class="card-header">
						<i class="fa fa-pencil-square-o"></i> {{texts "panel.header.crud"}}
					</div>
					<div class="card-body">
						<form id="staffCrudForm" name="staffCrudForm" method="post">
							<div>
								<div class="form-group row">
									<label for="staffName" class="col-xl-3 col-mb-5 col-form-label form-label">{{texts "entity.staff.name"}}</label>
									<div class="col-xl-9 col-mb-7">
										<input type="text" class="form-control" id="staffName" name="name" value="{{body.staff.name}}" required="required" />
										<div class="invalid-feedback">{{texts "form.common.validation.required"}}</div>
									</div>
								</div>

								<div class="form-group row">
									<label for="staffSurname" class="col-xl-3 col-mb-5 col-form-label form-label">{{texts "entity.staff.surname"}}</label>
									<div class="col-xl-9 col-mb-7">
										<input type="text" class="form-control" id="staffSurname" name="surname" value="{{body.staff.surname}}" required="required" />
										<div class="invalid-feedback">{{texts "form.common.validation.required"}}</div>
									</div>
								</div>

								<div class="form-group row">
									<label for="staffEmail" class="col-xl-3 col-mb-5 col-form-label form-label">{{texts "entity.staff.email"}}</label>
									<div class="col-xl-9 col-mb-7">
										<input type="text" class="form-control" id="staffEmail" name="email" value="{{body.staff.email}}" required="required" />
										<div class="invalid-feedback">{{texts "form.common.validation.required"}}</div>
									</div>
								</div>

								<div class="form-group row">
									<label for="staffTelephoneNum" class="col-xl-3 col-mb-5 col-form-label form-label">{{texts "entity.staff.telephoneNum"}}</label>
									<div class="col-xl-9 col-mb-7">
										<input type="text" class="form-control" id="staffTelephoneNum" name="telephoneNum" value="{{body.staff.telephoneNum}}" required="required" />
										<div class="invalid-feedback">{{texts "form.common.validation.required"}}</div>
									</div>
								</div>

								<div class="form-group row">
									<label for="staffProvince" class="col-xl-3 col-mb-5 col-form-label form-label">{{texts "entity.staff.province"}}</label>
									<div class="col-xl-9 col-mb-7">
										<input type="text" class="form-control" id="staffProvince" name="province" value="{{body.staff.province}}" required="required" />
										<div class="invalid-feedback">{{texts "form.common.validation.required"}}</div>
									</div>
								</div>

								<div class="form-group row">
									<label for="staffDistrict" class="col-xl-3 col-mb-5 col-form-label form-label">{{texts "entity.staff.district"}}</label>
									<div class="col-xl-9 col-mb-7">
										<input type="text" class="form-control" id="staffDistrict" name="district" value="{{body.staff.district}}" required="required" />
										<div class="invalid-feedback">{{texts "form.common.validation.required"}}</div>
									</div>
								</div>

								<div class="form-group row">
									<label for="staffAddress" class="col-xl-3 col-mb-5 col-form-label form-label">{{texts "entity.staff.address"}}</label>
									<div class="col-xl-9 col-mb-7">
										<input type="text" class="form-control" id="staffAddress" name="address" value="{{body.staff.address}}" required="required" />
										<div class="invalid-feedback">{{texts "form.common.validation.required"}}</div>
									</div>
								</div>
							</div>
						</form>



						<div class="float-right">
							{{#if body.staff._id}}
							<button type="submit" class="btn btn-success btn-mb" formmethod="post" form="staffCrudForm" formaction="/staff/edit/{{body.staff._id}}">
								<i class="fa fa-floppy-o" aria-hidden="true"></i> {{texts "button.label.update"}}
							</button>
							<button type="submit" class="btn btn-danger btn-mb" formmethod="post" form="staffCrudForm" formaction="/staff/delete/{{body.staff._id}}">
								<i class="fa fa-times" aria-hidden="true"></i> {{texts "button.label.delete"}}
							</button>
							{{else}}
							<button type="submit" class="btn btn-success btn-mb" formmethod="post" form="staffCrudForm" formaction="/staff/create">
								<i class="fa fa-floppy-o" aria-hidden="true"></i> {{texts "button.label.save"}}
							</button>
							{{/if}}
						</div>

					</div>
				</div>
			</div>
		</div
		
		{{/if}} {{#if header.renderStaffFacedImagesPanel}}			
		
		
		
		
		<div class="row">
			{{#each body.staffFacedImages}}
			<div class="col-xl-3 mb-4">
				<div class="card">
					<div class="card-header">
						<i class="fa fa-calendar fc-bold"></i> {{recordDate}}
					</div>
					<div class="card-body text-center">
						<div class="form-group row">
							<div class="col">
								<img src="data:{{mimeType}};base64,{{content}}" />
							</div>
						</div>
						<form method="POST">
							<div class="form-group row">
								<div class="col">
									<button type="submit" class="btn btn-danger btn-mb btn-block" formmethod="post" formaction="/staff/edit/{{staffId}}/facedImages/{{_id}}">
										<i class="fa fa-times" aria-hidden="true"></i> {{texts "button.label.delete"}}
									</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
			{{/each}}
		</div>
		{{/if}}
		<div>{{> message}}</div>

	</div>
</div>

<script src="/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="/public/javascripts/views/staff.js" type="text/javascript"></script>
</html>
